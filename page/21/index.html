<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>秋意寒 - 美好事物即将发生！！！</title><meta name="author" content="Gryphon"><meta name="copyright" content="Gryphon"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="秋意寒">
<meta property="og:url" content="https://blog.moncy.cn/page/21/index.html">
<meta property="og:site_name" content="秋意寒">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blog.moncy.cn/img/avatar.jpg">
<meta property="article:author" content="Gryphon">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog.moncy.cn/img/avatar.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://blog.moncy.cn/page/21/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":false,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '秋意寒',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-03-27 20:01:07'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/styles/main.css"><link rel="stylesheet" href="/css/modify.css"><meta name="generator" content="Hexo 7.1.1"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (false) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/loading.gif" data-original="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">796</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">14</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">16</div></a></div><hr class="custom-hr"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('/img/index.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="秋意寒"><span class="site-name">秋意寒</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">秋意寒</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://blog.csdn.net/" target="_blank" title="CSDN"><i class="fa fa-book-open"></i></a><a class="social-icon" href="https://user.qzone.qq.com/75966308" target="_blank" title="QQ"><i class="fab fa-qq"></i></a><a class="social-icon" href="mailto:75966308@qq.com" target="_blank" title="Email"><i class="fas fa-envelope-open-text"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2024/03/stm32CubeIde-STM32F1%E4%B8%8ESTM32CubeIDE%E7%BC%96%E7%A8%8B%E5%AE%9E%E4%BE%8B%E7%A3%81%E7%B0%A7%E5%BC%80%E5%85%B3Reed-Switch%E9%A9%B1%E5%8A%A8/" title="STM32F1与STM32CubeIDE编程实例磁簧开关Reed Switch驱动">STM32F1与STM32CubeIDE编程实例磁簧开关Reed Switch驱动</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-03-27T06:53:55.000Z" title="发表于 2024-03-27 14:53:55">2024-03-27</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/stm32/">stm32</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/stm32/cubeide/">cubeide</a></span></div><div class="content">

STM32F1与STM32CubeIDE编程实例-磁簧开关(Reed Switch)驱动磁簧开关(Reed Switch)驱动簧片开关是一种由外加磁场操作的电气开关。 它由列宁格勒电工大学的 Valentin Kovalenkov 教授于 1922 年发明， 后来在 1936 年由 Walter B. Ellwood 在贝尔电话实验室发展成为簧片继电器。

磁簧开关机构由两个仅相隔几微米的铁磁片组成。 当磁铁接近这些叶片时，两个叶片会相互拉向对方。 一旦接触，铁磁片片就会关闭常开 (NO) 触点，从而使电流流动。 一些簧片开关还包含一个非铁磁触点，形成一个常闭 (NC) 输出。 靠近的磁铁会断开触点并从开关触点上拉开。
触点由多种金属制成，包括钨和铑。 有些品种甚至使用水银，必须保持正确的方向才能正确切换。 一个充满惰性气体（通常是氮气）的玻璃封套在一个大气压下的内部压力下密封触点。 密封隔离触点，从而防止腐蚀和任何可能因触点移动而产生的火花。
1、磁簧开关配置
开发环境搭建、系统时钟配置、调试配置及串口配置，请参考：
STM32F1与STM32CubeIDE快速入门-开发环境搭建 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2024/03/stm32CubeIde-STM32F1%E4%B8%8ESTM32CubeIDE%E7%BC%96%E7%A8%8B%E5%AE%9E%E4%BE%8B%E5%80%BE%E6%96%9C%E5%BC%80%E5%85%B3Tilt-Switch%E9%A9%B1%E5%8A%A8/" title="STM32F1与STM32CubeIDE编程实例倾斜开关Tilt Switch驱动">STM32F1与STM32CubeIDE编程实例倾斜开关Tilt Switch驱动</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-03-27T06:53:54.000Z" title="发表于 2024-03-27 14:53:54">2024-03-27</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/stm32/">stm32</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/stm32/cubeide/">cubeide</a></span></div><div class="content">

STM32F1与STM32CubeIDE编程实例-倾斜开关(Tilt Switch)驱动倾斜开关(Tilt Switch)驱动倾斜传感器允许检测方向或倾斜度。倾斜传感器通常由某种空腔（圆柱形很流行，但并非总是如此）和内部的导电自由物质制成，例如一团水银或滚球。 空腔的一端有两个导电元件（极）。 当传感器的方向使该端向下时，质量会滚动到磁极上并使它们短路，充当开关投掷。倾斜开关有如下类型：

水银开关：在试管中使用一滴水银。 传感器根据重力定位，以便在开关打开时水银从触点上移开。 传感器方向的变化导致珠子在管中滚动，接触两个触点并关闭开关。水银倾斜开关的优点是成本低且易于使用。缺点包括材料的毒性以及它们只能执行开/关功能。
球笼开关：使用一个装在带有两个或多个触点的外壳单元中的小金属球。 当外壳倾斜时，球会使两个电触点短路，从而关闭开关。 可以向该设备添加多个触点，以便确定倾斜方向。
力平衡传感器：力平衡传感器是倾斜计中经常使用的重力参考传感器。 该传感器由一个平衡系统组成，其中一个悬垂质量悬挂在两个位置检测器之间。 当质量块由于重力而试图沿倾斜方向移动时，质量块的位置由位 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2024/03/stm32CubeIde-STM32F1%E4%B8%8ESTM32CubeIDE%E7%BC%96%E7%A8%8B%E5%AE%9E%E4%BE%8B%E6%8C%AF%E5%8A%A8%E4%BC%A0%E6%84%9F%E5%99%A8%E9%A9%B1%E5%8A%A8/" title="STM32F1与STM32CubeIDE编程实例振动传感器驱动">STM32F1与STM32CubeIDE编程实例振动传感器驱动</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-03-27T06:53:53.000Z" title="发表于 2024-03-27 14:53:53">2024-03-27</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/stm32/">stm32</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/stm32/cubeide/">cubeide</a></span></div><div class="content">

STM32F1与STM32CubeIDE编程实例-振动传感器驱动振动传感器驱动振动传感器，也称为压电传感器，有多种类型，用于测量设备或系统的加速度、压力、振动变化。振动传感器有如下类型：

**涡流( Eddy Current)**：涡流或电容式位移传感器是一种非接触式振动传感器类型，它产生磁场以测量导电部件中的位置变化。这种振动传感器要求传感对象足够大，然后才能进行一般传感。
速度类感器：速度传感器是一种振动传感器类型，通过使用在线圈内移动的磁铁产生的电流进行高温测量。由于与加速度计和陀螺仪传感器相比，它对放大器过载的敏感性较低，因此很受欢迎，因此速度传感器不能乱用！
**应变计传感器( Strain Guage Sensor)**：应变计传感器是一种振动传感器类型，它通过将力、压力、张力或重量转换为电阻变化来测量机械上的应变。它主要用于机械应用和具有曲面的物体。
压电加速度计传感器：也许最优选的振动传感器类型是压电加速度传感器。 多功能、宽动态范围，支持许多潜在应用，如振动传感器报警、安全系统、工业用途等。

振动传感器可用于广泛的应用，尽管它仅取决于使用的振动传感器的类型。  ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2024/03/stm32CubeIde-STM32F1%E4%B8%8ESTM32CubeIDE%E7%BC%96%E7%A8%8B%E5%AE%9E%E4%BE%8B%E7%BA%BF%E6%80%A7%E9%9C%8D%E5%B0%94%E6%95%88%E5%BA%94%E4%BC%A0%E6%84%9F%E5%99%A8%E9%A9%B1%E5%8A%A8/" title="STM32F1与STM32CubeIDE编程实例线性霍尔效应传感器驱动">STM32F1与STM32CubeIDE编程实例线性霍尔效应传感器驱动</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-03-27T06:53:52.000Z" title="发表于 2024-03-27 14:53:52">2024-03-27</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/stm32/">stm32</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/stm32/cubeide/">cubeide</a></span></div><div class="content">

STM32F1与STM32CubeIDE编程实例-线性霍尔效应传感器驱动线性霍尔效应传感器驱动当对材料通电时，电流以直线方式流过它。 也就是说，电子沿直线行进。 然后，当磁铁靠近该材料时，沿直线行进的电子再次沿弯曲路径行进。 这导致来自永磁体和电流的电位差或电压。 这种现象称为霍尔效应。
霍尔效应传感器（或简称霍尔传感器）是一种使用霍尔效应检测磁场的存在和大小的传感器。霍尔传感器的输出电压与场强成正比。它以美国物理学家埃德温·霍尔命名。
霍尔传感器用于接近感应、定位、速度检测和电流感应应用。通常，霍尔传感器与阈值检测相结合以充当二进制开关。常见于工业应用中，例如图中的气缸，它们也用于消费设备；例如，一些计算机打印机使用它们来检测缺纸和打开的盖子。一些 3D 打印机使用它们来测量灯丝厚度。
霍尔传感器通常用于对车轮和轴的速度进行计时，例如用于内燃机点火正时、转速计和防抱死制动系统。它们用于无刷直流电动机中以检测永磁体的位置。在图中具有两个等距磁铁的车轮中，传感器的电压每转两次峰值。这种安排通常用于调节磁盘驱动器的速度。

本次实例使用Key-024 线性磁性霍尔传感器模块包括一个称为 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2024/03/stm32CubeIde-STM32F1%E4%B8%8ESTM32CubeIDE%E7%BC%96%E7%A8%8B%E5%AE%9E%E4%BE%8B%E5%85%89%E6%96%AD%E7%BB%AD%E4%BC%A0%E6%84%9F%E5%99%A8%E9%A9%B1%E5%8A%A8/" title="STM32F1与STM32CubeIDE编程实例光断续传感器驱动">STM32F1与STM32CubeIDE编程实例光断续传感器驱动</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-03-27T06:53:51.000Z" title="发表于 2024-03-27 14:53:51">2024-03-27</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/stm32/">stm32</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/stm32/cubeide/">cubeide</a></span></div><div class="content">

STM32F1与STM32CubeIDE编程实例-光断续传感器驱动光断续传感器驱动光断续器是（Photo Interrupt Sensor）一种透射型光传感器，将光接收和发射元件集成在一个封装中，请参见下图。 由于该方法涉及遮光，通常称为光断续器。 输出采用长寿命红外光电二极管，另一侧集成单个光电晶体管和光电IC用于光检测。
与机械开关不同，光断续器是非接触式（光学）开关，通过防止磨损（接触）引起的磨损来提高可靠性。

本文将介绍如何在STM32CubeIDE中如何使用光断续传感器。当有遮挡时，传感器输出低电平，连通时，输出高电平。
1、光断续传感器配置开发环境搭建、系统时钟配置、调试配置及串口配置，请参考：

STM32F1与STM32CubeIDE快速入门-开发环境搭建
STM32F1与STM32CubeIDE快速入门-GPIO概述与点亮LED
STM32F1与STM32CubeIDE快速入门-USART/UART串口通信

传感器配置如下：

保存配置并生成代码。
2、光断续传感器驱动实现1）基本定义
12345678910111213141516171819202 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2024/03/stm32CubeIde-STM32F1%E4%B8%8ESTM32CubeIDE%E7%BC%96%E7%A8%8B%E5%AE%9E%E4%BE%8BWS2812B%E5%85%A8%E5%BD%A9LED%E9%A9%B1%E5%8A%A8%E5%9F%BA%E4%BA%8ESPIDMA/" title="STM32F1与STM32CubeIDE编程实例WS2812B全彩LED驱动基于SPIDMA">STM32F1与STM32CubeIDE编程实例WS2812B全彩LED驱动基于SPIDMA</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-03-27T06:53:50.000Z" title="发表于 2024-03-27 14:53:50">2024-03-27</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/stm32/">stm32</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/stm32/cubeide/">cubeide</a></span></div><div class="content">

STM32F1与STM32CubeIDE编程实例-WS2812B全彩LED驱动（基于SPI+DMA）WS2812B全彩LED驱动（基于SPI+DMA）1、WS2812介绍WS2812/WS2812B LED 使用 24 位来表示绿色、红色和蓝色值。

WS2812采用单线通信的设计，通信协议为非归零编码，每个LED需要24个bit的数据，数据依次经过串联的LED时，第一个LED截取数据开头的24bit，并将剩下的数据流传给下一个LED，以此类推。数据线上的位由高脉冲编码，然后是低脉冲。时序如下：

WS2812支持高速数据传输并且其数据传输时序与SPI的通信时序类似，因此可以使用STM32的SPI外设模拟WS2812的通信时序。
在前面的文章中，对WS2812做了详细的介绍，请参考：

Ardunio开发实例-WS2812B独立寻址LED调色调光
Arduino与Proteus仿真实例-WS2812-RGB-LED灯带酷炫效果仿真
Arduino与Proteus仿真实例-WS2812-RGB-LED点阵(8x8)驱动仿真
ESP32-IDF开发实例-传感器模块编程-WS2 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2024/03/stm32CubeIde-STM32F1%E4%B8%8ESTM32CubeIDE%E7%BC%96%E7%A8%8B%E5%AE%9E%E4%BE%8B%E7%83%AD%E6%95%8F%E4%BC%A0%E6%84%9F%E5%99%A8%E9%A9%B1%E5%8A%A8/" title="STM32F1与STM32CubeIDE编程实例热敏传感器驱动">STM32F1与STM32CubeIDE编程实例热敏传感器驱动</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-03-27T06:53:49.000Z" title="发表于 2024-03-27 14:53:49">2024-03-27</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/stm32/">stm32</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/stm32/cubeide/">cubeide</a></span></div><div class="content">

STM32F1与STM32CubeIDE编程实例-热敏传感器驱动热敏传感器驱动热敏电阻是可变电阻器，其电阻随温度变化。 它们根据其电阻对温度变化的反应方式进行分类。 在负温度系数 (NTC) 热敏电阻中，电阻随着温度的升高而降低。 在正温度系数 (PTC) 热敏电阻中，电阻随着温度的升高而增加。
导电材料包含允许电流流过的电荷载流子。 高温导致半导体材料释放更多的电荷载流子。 在由氧化铁制成的 NTC 热敏电阻中，电子是电荷载体。 在氧化镍 NTC 热敏电阻中，电荷载流子是电子空穴。

由于热敏电阻是可变电阻器，因此我们需要先测量电阻，然后才能计算温度。 但是，STM32 不能直接测量电阻，它只能测量电压。
STM32将测量热敏电阻和已知电阻之间某个点的电压。 这被称为分压器。 分压器的公式为：

其中：

V

 o 
 u 
 t 
 V_{out} 
 Vout​为热敏电阻和已知电阻之间的电压

V

 i 
 n 
 V_{in} 
 Vin​为输入电压，例如：5v

R1：已知电阻值
R2：热敏电阻的阻值

将方程简化为：

最后，使用 Steinhart-Hart 方程 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2024/03/stm32CubeIde-STM32F1%E4%B8%8ESTM32CubeIDE%E7%BC%96%E7%A8%8B%E5%AE%9E%E4%BE%8B%E9%87%91%E5%B1%9E%E8%A7%A6%E6%91%B8%E4%BC%A0%E6%84%9F%E5%99%A8%E9%A9%B1%E5%8A%A8/" title="STM32F1与STM32CubeIDE编程实例金属触摸传感器驱动">STM32F1与STM32CubeIDE编程实例金属触摸传感器驱动</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-03-27T06:53:48.000Z" title="发表于 2024-03-27 14:53:48">2024-03-27</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/stm32/">stm32</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/stm32/cubeide/">cubeide</a></span></div><div class="content">

STM32F1与STM32CubeIDE编程实例-金属触摸传感器驱动金属触摸传感器驱动KY-036金属触摸传感器模块采用KRS13达林顿NPN晶体管，其信号由电路部分控制，电路部分集成LM393，内部有两个比较器。 当触摸弯曲在晶体管上的裸线（由晶体管的基极表示）时，环境的 50 Hz 信号被注入到高增益放大器中。放大器的输出连接到比较器，然后将正弦交流信号转换为方波。

本文将演示如何在STM32CubeIDE中使用金属触摸传感器。本次使用的传感器模块，当有触摸时，输出高电平。
1、金属触摸传感器配置开发环境搭建、系统时钟配置、调试配置及串口配置，请参考：

STM32F1与STM32CubeIDE快速入门-开发环境搭建
STM32F1与STM32CubeIDE快速入门-GPIO概述与点亮LED
STM32F1与STM32CubeIDE快速入门-USART/UART串口通信

传感器配置如下：

保存配置并生成代码。
2、金属触摸传感器驱动实现1）基本定义
123456789101112131415161718192021222324252627282930/\* \* ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2024/03/stm32CubeIde-STM32F1%E4%B8%8ESTM32CubeIDE%E7%BC%96%E7%A8%8B%E5%AE%9E%E4%BE%8B%E7%9F%A9%E9%98%B5%E9%94%AE%E7%9B%98%E9%A9%B1%E5%8A%A8/" title="STM32F1与STM32CubeIDE编程实例矩阵键盘驱动">STM32F1与STM32CubeIDE编程实例矩阵键盘驱动</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-03-27T06:53:47.000Z" title="发表于 2024-03-27 14:53:47">2024-03-27</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/stm32/">stm32</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/stm32/cubeide/">cubeide</a></span></div><div class="content">

STM32F1与STM32CubeIDE编程实例-矩阵键盘驱动矩阵键盘驱动1、矩阵键盘介绍键盘是广泛用于各种电子和嵌入式项目的输入设备。 它们用于以数字和字母的形式获取输入，并将其输入系统以进行进一步处理。
矩阵键盘由一组相互连接的按钮组成。 在本次实例中使用 4X4 矩阵键盘，其中四行中的每一行都有 4 个按钮。 按钮端子按下图所示示连接。 在第一行，所有4个按钮的一个端子连接在一起，4个按钮的另一个端子代表4列中的每一列，每行也是如此。 所以一共有 8 根线来连接一个微控制器。

首先，需要配置 8 个 GPIO 引脚。 其中四个是输入，另外四个是输出引脚。 然后您可以将列引脚连接到输入或输出引脚，但为方便起见，我将它们连接到 4 个输出引脚。
最后但同样重要的是，4 行引脚将连接到微控制器的 4 个输入引脚。 如下图所示：

如何确定键盘中哪个按键按下？
1）查找列位置

首先，将所有行都设置为逻辑级别 0，将所有列设置为逻辑级别 1。
每当按下一个按键时，对应于该按钮的列和行就会短路，并使相应的列变为逻辑电平 0。因为该列连接（短路）到处于逻辑电平 0 的行。


2）查找 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2024/03/stm32CubeIde-STM32F1%E4%B8%8ESTM32CubeIDE%E7%BC%96%E7%A8%8B%E5%AE%9E%E4%BE%8B%E8%B6%85%E5%A3%B0%E6%B3%A2%E6%B5%8B%E8%B7%9D%E4%BC%A0%E6%84%9F%E5%99%A8%E9%A9%B1%E5%8A%A8/" title="STM32F1与STM32CubeIDE编程实例超声波测距传感器驱动">STM32F1与STM32CubeIDE编程实例超声波测距传感器驱动</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-03-27T06:53:46.000Z" title="发表于 2024-03-27 14:53:46">2024-03-27</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/stm32/">stm32</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/stm32/cubeide/">cubeide</a></span></div><div class="content">

STM32F1与STM32CubeIDE编程实例-超声波测距传感器驱动超声波测距传感器驱动超声波测距模块HC-SR04提供2cm-400cm非接触测量功能，测距精度可达3mm。 该模块包括超声波发射器、接收器和控制电路。

HC-SR04 的工作非常简单直接。模块发出 40 KHz 的超声波，在被障碍物反射后，反射回模块。 通过使用传播时间和声音的速度，我们可以计算出传感器与障碍物之间的距离。
HC-SR04工作的时序图如下：

结合工作时序图，我们可以得到HC-SR04的驱动步骤如下：

Trig引脚保持高电平至少 10us
模块现在将发送 8 个周期的 40 kHz 超声波脉冲串并检测是否有脉冲信号返回
如果信号返回，模块将输出一个高脉冲，其宽度将与物体的范围成正比。
距离可以使用以下公式计算：距离 = 高脉冲时间 * 速度 (340m/s) / 2
以厘米为单位计算公式： 距离 = us / 58
以英寸为单位计算公式：距离 = us / 148
建议至少等待 60ms 后再开始一下轮操作。

1、超声波测 ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/20/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">…</span><a class="page-number" href="/page/20/#content-inner">20</a><span class="page-number current">21</span><a class="page-number" href="/page/22/#content-inner">22</a><span class="space">…</span><a class="page-number" href="/page/80/#content-inner">80</a><a class="extend next" rel="next" href="/page/22/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/loading.gif" data-original="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"></div><div class="author-info__name">Gryphon</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">796</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">14</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">16</div></a></div><a id="card-info-btn" href="https://blog.moncy.cn"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://blog.csdn.net/" target="_blank" title="CSDN"><i class="fa fa-book-open"></i></a><a class="social-icon" href="https://user.qzone.qq.com/75966308" target="_blank" title="QQ"><i class="fab fa-qq"></i></a><a class="social-icon" href="mailto:75966308@qq.com" target="_blank" title="Email"><i class="fas fa-envelope-open-text"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">本站博客为本人所写或抓取自互联网资源,可联系我进行处理,下一版将会为所有抓取自互联网的blog添加创作人信息。</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/03/learning-cmake-001/" title="无题">无题</a><time datetime="2024-03-27T11:40:16.339Z" title="发表于 2024-03-27 19:40:16">2024-03-27</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/03/Arduino-%E5%AE%9E%E4%BE%8B-Arduino%E5%BC%80%E5%8F%91%E5%AE%9E%E4%BE%8B433M%E6%97%A0%E7%BA%BF%E6%A8%A1%E5%9D%97%E6%95%B0%E6%8D%AE%E5%8F%91%E9%80%81%E4%B8%8E%E6%8E%A5%E6%94%B6/" title="Arduino开发实例433M无线模块数据发送与接收">Arduino开发实例433M无线模块数据发送与接收</a><time datetime="2024-03-27T07:01:11.000Z" title="发表于 2024-03-27 15:01:11">2024-03-27</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/03/Arduino-%E5%AE%9E%E4%BE%8B-ESP32Arduino%E5%BC%80%E5%8F%91%E5%AE%9E%E4%BE%8BWiFi%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86/" title="ESP32Arduino开发实例WiFi事件处理">ESP32Arduino开发实例WiFi事件处理</a><time datetime="2024-03-27T07:01:05.000Z" title="发表于 2024-03-27 15:01:05">2024-03-27</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/03/Arduino-%E5%AE%9E%E4%BE%8B-ESP32Arduino%E7%BD%91%E7%BB%9C%E5%BC%80%E5%8F%91%E5%AE%9E%E4%BE%8BWiFi%E8%BF%9E%E6%8E%A5%E8%AE%BE%E7%BD%AE%E9%9D%99%E6%80%81IP/" title="ESP32Arduino网络开发实例WiFi连接设置静态IP">ESP32Arduino网络开发实例WiFi连接设置静态IP</a><time datetime="2024-03-27T07:01:04.000Z" title="发表于 2024-03-27 15:01:04">2024-03-27</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/03/Arduino-%E5%AE%9E%E4%BE%8B-Arduino%E5%BC%80%E5%8F%91%E5%AE%9E%E4%BE%8BLora-%E6%95%B0%E6%8D%AE%E5%8F%91%E9%80%81%E4%B8%8E%E6%8E%A5%E6%94%B6/" title="Arduino开发实例Lora 数据发送与接收">Arduino开发实例Lora 数据发送与接收</a><time datetime="2024-03-27T07:01:03.000Z" title="发表于 2024-03-27 15:01:03">2024-03-27</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/51%E5%8D%95%E7%89%87%E6%9C%BA/"><span class="card-category-list-name">51单片机</span><span class="card-category-list-count">283</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/51%E5%8D%95%E7%89%87%E6%9C%BA/proteus%E4%BB%BF%E7%9C%9F/"><span class="card-category-list-name">proteus仿真</span><span class="card-category-list-count">283</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Arduino/"><span class="card-category-list-name">Arduino</span><span class="card-category-list-count">341</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Arduino/%E4%BB%BF%E7%9C%9F/"><span class="card-category-list-name">仿真</span><span class="card-category-list-count">114</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Arduino/%E5%AE%9E%E6%88%98/"><span class="card-category-list-name">实战</span><span class="card-category-list-count">227</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Arduino-%E5%AE%9E%E6%88%98/"><span class="card-category-list-name">Arduino 实战</span><span class="card-category-list-count">32</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/arduino/"><span class="card-category-list-name">arduino</span><span class="card-category-list-count">25</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/arduino/proteus%E4%BB%BF%E7%9C%9F/"><span class="card-category-list-name">proteus仿真</span><span class="card-category-list-count">25</span></a></li></ul></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/proteus%E4%BB%BF%E7%9C%9F/" style="font-size: 1.46em; color: #99a7bb">proteus仿真</a> <a href="/tags/%E6%8A%A5%E9%94%99%E8%A7%A3%E5%86%B3/" style="font-size: 1.1em; color: #999">报错解决</a> <a href="/tags/%E4%BB%BF%E7%9C%9F/" style="font-size: 1.37em; color: #99a4b2">仿真</a> <a href="/tags/ubuntu/" style="font-size: 1.1em; color: #999">ubuntu</a> <a href="/tags/wsl/" style="font-size: 1.1em; color: #999">wsl</a> <a href="/tags/%E5%A4%96%E8%AE%BE/" style="font-size: 1.14em; color: #999b9d">外设</a> <a href="/tags/51%E5%8D%95%E7%89%87%E6%9C%BA/" style="font-size: 1.41em; color: #99a5b7">51单片机</a> <a href="/tags/arduino/" style="font-size: 1.19em; color: #999da1">arduino</a> <a href="/tags/Arduino/" style="font-size: 1.5em; color: #99a9bf">Arduino</a> <a href="/tags/hexo/" style="font-size: 1.1em; color: #999">hexo</a> <a href="/tags/Arduino-%E5%AE%9E%E6%88%98/" style="font-size: 1.23em; color: #999ea6">Arduino 实战</a> <a href="/tags/linux/" style="font-size: 1.1em; color: #999">linux</a> <a href="/tags/stm32/" style="font-size: 1.32em; color: #99a2ae">stm32</a> <a href="/tags/cubeide/" style="font-size: 1.28em; color: #99a0aa">cubeide</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/03/"><span class="card-archive-list-date">三月 2024</span><span class="card-archive-list-count">796</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">796</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishdate="2024-03-27T12:01:03.237Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">877.3k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastpushdate="2024-03-27T12:01:03.493Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background: transparent"><div id="footer-wrap"><div class="copyright">©2024 By Gryphon</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>window.typedJSFn = {
  init: (str) => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: (subtitleType) => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        getScript('https://cdn.jsdelivr.net/npm/typed.js@2.1.0/dist/typed.umd.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  }
}
</script><script>function subtitleType () {
  if (true) {
    typedJSFn.init(["美好事物即将发生！！！"])
  } else {
    document.getElementById("subtitle").textContent = "美好事物即将发生！！！"
  }
}
typedJSFn.run(subtitleType)</script></div><script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/gh/xiabo2/CDN@latest/fishes.js"></script><script src="/js/custom/snow.js"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-fluttering-ribbon.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = true;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/click-heart.min.js" async="async" mobile="false"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/metingjs/dist/Meting.min.js"></script><script async="" data-pjax="" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div><hr><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.13.0"></script></div></div>
        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(r){r.imageLazyLoadSetting.processImages=t;var e=r.imageLazyLoadSetting.isSPA,n=r.imageLazyLoadSetting.preloadRatio||1,c=a();function a(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(){e&&(c=a());for(var t,o=0;o<c.length;o++)0<=(t=(t=c[o]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(r.innerHeight*n||document.documentElement.clientHeight*n)&&function(){var t,e,n,a,i=c[o];e=function(){c=c.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(n=new Image,a=t.getAttribute("data-original"),n.onload=function(){t.src=a,t.removeAttribute("data-original"),e&&e()},t.src!==a&&(n.src=a))}()}function i(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",i),r.addEventListener("resize",i),r.addEventListener("orientationchange",i)}(this);</script><script async>window.onload=function(){var a=document.createElement('script'),b=document.getElementsByTagName('script')[0];a.type='text/javascript',a.async=!0,a.src='/sw-register.js?v='+Date.now(),b.parentNode.insertBefore(a,b)};</script></body></html>